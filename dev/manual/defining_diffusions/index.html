<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Defining diffusions · DiffusionDefinition.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="DiffusionDefinition.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">DiffusionDefinition.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../get_started/package_overview/">Get started</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">User manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Defining diffusions</a><ul class="internal"><li><a class="tocitem" href="#Customization-of-a-struct-1"><span>Customization of a struct</span></a></li><li><a class="tocitem" href="#Systematic-explanations-1"><span>Systematic explanations</span></a></li><li><a class="tocitem" href="#Additional-functions-1"><span>Additional functions</span></a></li></ul></li><li><a class="tocitem" href="../drift_and_volatility/">Drift and volatility</a></li><li><a class="tocitem" href="../sampling/">Sampling trajectories</a></li><li><a class="tocitem" href="../functionals_of_paths/">Computing path-functionals</a></li><li><a class="tocitem" href="../load_diff/">Loading diffusions</a></li><li><a class="tocitem" href="../convenience_functions/">Utility functions</a></li><li><a class="tocitem" href="../buffers/">Buffers</a></li><li><a class="tocitem" href="../state_space/">State space restrictions</a></li><li><a class="tocitem" href="../reparameterization/">Reparameterizations</a></li><li><a class="tocitem" href="../conjugate_updates/">Conjugate updates</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">How to...</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../how_to_guides/sample_brownian_bridges/">... sample Brownian bridges?</a></li><li><a class="tocitem" href="../../how_to_guides/sample_diffusion_bridges/">... sample Diffusion bridges?</a></li><li><a class="tocitem" href="../../how_to_guides/sample_complex_valued/">... sample complex-valued diffusions?</a></li><li><a class="tocitem" href="../../how_to_guides/customize_my_diffusion_plots/">... customize plots of diffusion trajectories?</a></li><li><a class="tocitem" href="../../how_to_guides/expect_of_gradient/">... compute expectation of gradients of functionals?</a></li><li><a class="tocitem" href="../../how_to_guides/use_higher_order_solvers/">... use higher order SDE solvers for simulating trajectories?</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/swinging_pendulum/">Defining a diffusion process for a swinging pendulum</a></li><li><a class="tocitem" href="../../tutorials/in_place_vs_out_of_place/">In-place vs out-of-place methods</a></li><li><a class="tocitem" href="../../tutorials/diffusion_bridges/">Sampling of diffusion bridges</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Predefined Diffusions</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../predefined_processes/lotka_volterra/">Lotka-Volterra system</a></li><li><a class="tocitem" href="../../predefined_processes/sine/">Sine diffusion</a></li><li><a class="tocitem" href="../../predefined_processes/sir/">SIR model</a></li><li><a class="tocitem" href="../../predefined_processes/lorenz63/">Lorenz63 system</a></li><li><a class="tocitem" href="../../predefined_processes/lorenz96/">Lorenz96 system</a></li><li><a class="tocitem" href="../../predefined_processes/favetto_samson/">Favetto-Samson model</a></li><li><a class="tocitem" href="../../predefined_processes/prokaryote/">Prokaryotic autoregulatory gene network</a></li><li><a class="tocitem" href="../../predefined_processes/fitzhugh_nagumo/">FitzHugh-Nagumo model</a></li><li><a class="tocitem" href="../../predefined_processes/jansen_rit/">Jansen-Rit model</a></li></ul></li><li><a class="tocitem" href="../../post_index/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User manual</a></li><li class="is-active"><a href>Defining diffusions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Defining diffusions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaDiffusionBayes/DiffusionDefinition.jl/blob/master/docs/src/manual/defining_diffusions.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="defining_diffusion-1"><a class="docs-heading-anchor" href="#defining_diffusion-1">Defining diffusion</a><a class="docs-heading-anchor-permalink" href="#defining_diffusion-1" title="Permalink"></a></h1><hr/><p>The main utility macro introduced in this package is <code>@diffusion_process</code>. It facilitates very concise definitions of structs characterizing diffusion processes.</p><p>There are two (optionally three) parts expected by the macro:</p><ul><li>the name of the diffusion (which, optionally, may contain template parameters in the curly brackets)</li><li>and the recipe for defining a struct</li></ul><pre><code class="language-julia">@diffusion_process NAME{TEMPLATE_PARAMETERS} begin
  RECIPE
end</code></pre><p>the snippet of code above creates a struct named <code>NAME</code> according to specifications listed in the <code>RECIPE</code>.</p><h2 id="Customization-of-a-struct-1"><a class="docs-heading-anchor" href="#Customization-of-a-struct-1">Customization of a struct</a><a class="docs-heading-anchor-permalink" href="#Customization-of-a-struct-1" title="Permalink"></a></h2><hr/><p>The <code>RECIPE</code> may contain information pertinent to five distinct categories:</p><ul><li>Specification of <code>:dimensions</code></li><li>Specification of <code>:parameters</code> (their names and datatypes)</li><li>Specification of <code>:constant_parameters</code> (their names and datatypes)</li><li>Specification of <code>:auxiliary_info</code></li><li><code>:additional</code> information</li></ul><p>Each type needs to be announced to <code>julia</code> by starting the list with the corresponding <code>Symbol</code> (or <code>QuoteNode</code>).</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>For many users knowing only about <code>:dimensions</code>, <code>:parameters</code> and <code>:additional</code> will be sufficient and the other categories will not be of much importance.</p></div></div><h3 id="Lorenz_example-1"><a class="docs-heading-anchor" href="#Lorenz_example-1">Example</a><a class="docs-heading-anchor-permalink" href="#Lorenz_example-1" title="Permalink"></a></h3><p>It&#39;s best to look at a simple example. Consider the definition of a Lorenz system:</p><pre><code class="language-julia">@diffusion_process Lorenz{T} begin
    :dimensions
    process --&gt; 3
    wiener --&gt; 3

    :parameters
    _ --&gt; (3, T)
    σ --&gt; Float64

    :additional
    constdiff --&gt; true
    diagonaldiff --&gt; true
end</code></pre><p>The macro above expands to:</p><pre><code class="language-julia">mutable struct Lorenz{T} &lt;: DiffusionProcess{Float64, 3, 3, UnboundedStateSpace()}
    p1::T
    p2::T
    p3::T
    σ::Float64
    function Lorenz(p1::T, p2::T, p3::T, σ::Float64) where T
        new{T}(p1, p2, p3, σ)
    end
    function Lorenz(; p1::T, p2::T, p3::T, σ::Float64) where T
        new{T}(p1, p2, p3, σ)
    end
end</code></pre><p>which defines a <a href="https://docs.julialang.org/en/v1/manual/types/#Parametric-Types-1">parametric type</a> <code>Lorenz{T}</code>, together with some handy auxiliary functions specific to any instance of <code>Lorenz{T}</code>. We may now instantiate the newly defined struct as in</p><pre><code class="language-julia">P_f64 = Lorenz(10.0, 28.0, 8.0/3.0, 0.2)
# or
P_f32 = Lorenz(10.0f0, 28.0f0, 8.0f0/3.0f0, 0.2)</code></pre><p>We can also call some functions that were auto-generated for the newly defined <code>Lorenz</code> struct, for instance</p><pre><code class="language-julia">DD.parameter_names(Lorenz) == (:p1, :p2, :p3, :σ)
DD.parameter_names(P_f64) == (:p1, :p2, :p3, :σ)
DD.parameters(P_f64) == Dict(:p1 =&gt; 10.0, :p2 =&gt; 28.0, :p3 =&gt; 8.0/3.0, :σ =&gt; 0.2)</code></pre><p>More functions are automatically defined in the background for each generated <code>DiffusionProcess</code>, to learn more about them see the list of <a href="../convenience_functions/#utility_functions-1">Utility Functions</a>.</p><h2 id="Systematic-explanations-1"><a class="docs-heading-anchor" href="#Systematic-explanations-1">Systematic explanations</a><a class="docs-heading-anchor-permalink" href="#Systematic-explanations-1" title="Permalink"></a></h2><hr/><p>The following information can be specified in the definition of a diffusion law when calling a macro <code>@diffusion_process</code>.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>All keywords read by <code>@diffusion_process</code> are <strong>case-insensitive</strong>.</p></div></div><h4 id="Category-1:-:dimensions-1"><a class="docs-heading-anchor" href="#Category-1:-:dimensions-1">Category 1: <code>:dimensions</code></a><a class="docs-heading-anchor-permalink" href="#Category-1:-:dimensions-1" title="Permalink"></a></h4><p>Specification of the dimension of the process and the dimension of the driving Brownian motion. Must be written in a format:</p><ul><li><code>process --&gt; dimension</code> OR</li><li><code>wiener --&gt; dimension</code> (eg.<ul><li><code>process --&gt; 4</code>).</li></ul></li></ul><p>In both cases, if left unspecified then defaults to <code>dimension=1</code>.</p><div class="admonition is-info"><header class="admonition-header">Alternative keywords</header><div class="admonition-body"><p><code>:dimensions</code> is not the only keyword that will be recognized by <code>@diffusion_process</code> as declaring the dimensions of the process. Alternative names that could be used in place of <code>:dimensions</code> are: <code>:dim</code>, <code>:dims</code>, <code>:dimension</code></p></div></div><h4 id="Category-2:-:parameters-1"><a class="docs-heading-anchor" href="#Category-2:-:parameters-1">Category 2: <code>:parameters</code></a><a class="docs-heading-anchor-permalink" href="#Category-2:-:parameters-1" title="Permalink"></a></h4><p>List of all parameters that the law depends on.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p><code>@diffusion_process</code> understands <code>_</code> as &quot;<em>the user doesn&#39;t care about the name, so let&#39;s use a generic name based on the letter <code>p</code> and append it with a disambiguation number so that if there are more than one <code>p</code>&#39;s they are not confused with each other</em>&quot;</p></div></div><p>The parameters must be specified in one of the following formats:</p><ul><li><code>single-parameter-name --&gt; single-data-type</code>, (eg.<ul><li><code>σ --&gt; Float64</code> or</li><li><code>σ --&gt; T</code> (if <code>T</code> is one of the template&#39;s labels) or</li><li><code>_ --&gt; Vector{Int32}</code>).</li></ul>This defines a single parameter.</li><li><code>single-parameter-name --&gt; (multiple-data-types,)</code> (eg.<ul><li><code>σ --&gt; (Float64, Int64)</code>,</li><li><code>_ --&gt; (Int32, T)</code>).</li></ul>This defines as many parameters as there are specified types and appends the names with numbers to disambiguate multiple parameters with the same names.</li><li><code>single-parameter-name --&gt; (number-of-parameters, data-type)</code> (eg.<ul><li><code>σ --&gt; (3, Float64)</code>)</li></ul>defines <code>number-of-parameters</code>-many parameters of the same data type.</li><li><code>(multiple-parameter-names,) --&gt; single-data-type</code> (eg.<ul><li><code>(α, β, γ) --&gt; Int64</code>)</li></ul>defines as many parameters as there are names specified and sets them to be of the same type.</li><li><code>(multiple-parameter-names,) --&gt; (multiple-data-types,)</code> (eg.<ul><li><code>(α, β, γ) --&gt; (Float64, Int64, T)</code>)</li></ul>defines as many parameters as there are names specified (there should be an equal number of names as there are types, it will throw an <code>AssertionError</code> otherwise) and sets them to be of the corresponding type.</li></ul><div class="admonition is-info"><header class="admonition-header">Alternative keywords</header><div class="admonition-body"><p><code>:parameters</code> keyword alternatives: <code>:param</code>, <code>:params</code></p></div></div><h4 id="Category-3:-:constant_parameters-1"><a class="docs-heading-anchor" href="#Category-3:-:constant_parameters-1">Category 3: <code>:constant_parameters</code></a><a class="docs-heading-anchor-permalink" href="#Category-3:-:constant_parameters-1" title="Permalink"></a></h4><p>These can be defined in exactly the same way as <code>:parameters</code>. The only purpose for splitting the parameters into <code>:constant_parameters</code> and <code>:parameters</code> is to indicate to <code>Julia</code> that the set of all parameters may be split into two conceptually different groups. In particular, <code>@diffusion_process</code> defines utility functions that act differently with <code>:constant_parameters</code> and <code>:parameters</code>:</p><article class="docstring"><header><a class="docstring-binding" id="DiffusionDefinition.parameters" href="#DiffusionDefinition.parameters"><code>DiffusionDefinition.parameters</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">parameters(P::DiffusionProcess)</code></pre><p>Return a tuple of pairs of <code>parameter_name</code> =&gt; <code>parameter_value</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/DiffusionDefinition.jl/blob/e909355a29a3debd03642c2a56c4e416cf936a14/src/standard_functions.jl#LL45-L49">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiffusionDefinition.const_parameters" href="#DiffusionDefinition.const_parameters"><code>DiffusionDefinition.const_parameters</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">const_parameters(P::DiffusionProcess)</code></pre><p>Return a tuple of pairs of <code>parameter_name</code> =&gt; <code>parameter_value</code>. Return only those parameteres that are considered to be <code>constant</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/DiffusionDefinition.jl/blob/e909355a29a3debd03642c2a56c4e416cf936a14/src/standard_functions.jl#LL57-L62">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiffusionDefinition.var_parameters" href="#DiffusionDefinition.var_parameters"><code>DiffusionDefinition.var_parameters</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">var_parameters(P::DiffusionProcess)</code></pre><p>Return a tuple of pairs of <code>parameter_name</code> =&gt; <code>parameter_value</code>. Return only those parameteres that are considered to be <code>variable</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/DiffusionDefinition.jl/blob/e909355a29a3debd03642c2a56c4e416cf936a14/src/standard_functions.jl#LL70-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiffusionDefinition.parameter_names" href="#DiffusionDefinition.parameter_names"><code>DiffusionDefinition.parameter_names</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">parameter_names(P::DiffusionProcess)</code></pre><p>Return a tuple with the names of all paremeters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/DiffusionDefinition.jl/blob/e909355a29a3debd03642c2a56c4e416cf936a14/src/standard_functions.jl#LL83-L87">source</a></section><section><div><pre><code class="language-julia">parameter_names(::Type{&lt;:DiffusionProcess})</code></pre><p>Return a tuple with the names of all paremeters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/DiffusionDefinition.jl/blob/e909355a29a3debd03642c2a56c4e416cf936a14/src/standard_functions.jl#LL90-L94">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiffusionDefinition.const_parameter_names" href="#DiffusionDefinition.const_parameter_names"><code>DiffusionDefinition.const_parameter_names</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">const_parameter_names(P::DiffusionProcess)</code></pre><p>Return a tuple with the names of all paremeters that are considered to be <code>constant</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/DiffusionDefinition.jl/blob/e909355a29a3debd03642c2a56c4e416cf936a14/src/standard_functions.jl#LL97-L102">source</a></section><section><div><pre><code class="language-julia">const_parameter_names(P::Type{&lt;:DiffusionProcess})</code></pre><p>Return a tuple with the names of all paremeters that are considered to be <code>constant</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/DiffusionDefinition.jl/blob/e909355a29a3debd03642c2a56c4e416cf936a14/src/standard_functions.jl#LL105-L110">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiffusionDefinition.var_parameter_names" href="#DiffusionDefinition.var_parameter_names"><code>DiffusionDefinition.var_parameter_names</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">var_parameter_names(P::DiffusionProcess)</code></pre><p>Return a tuple with the names of all paremeters that are considered to be <code>variable</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/DiffusionDefinition.jl/blob/e909355a29a3debd03642c2a56c4e416cf936a14/src/standard_functions.jl#LL113-L118">source</a></section><section><div><pre><code class="language-julia">var_parameter_names(P::Type{&lt;:DiffusionProcess})</code></pre><p>Return a tuple with the names of all paremeters that are considered to be <code>variable</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/DiffusionDefinition.jl/blob/e909355a29a3debd03642c2a56c4e416cf936a14/src/standard_functions.jl#LL121-L126">source</a></section></article><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The split into <code>constant</code> and <code>variable</code> parameters is not done at a compile time and can also be done by hand after the <code>struct</code> with the diffusion has been constructed. For instance, in the <code>Lorenz</code> example above we have:</p><pre><code class="language-julia">julia&gt; DD.parameters(P_f64)
Dict{Symbol,Float64} with 4 entries:
  :p2 =&gt; 28.0
  :σ  =&gt; 0.2
  :p1 =&gt; 10.0
  :p3 =&gt; 2.66667

julia&gt; DD.const_parameters(P_f64)
Dict{Any,Any} with 0 entries

julia&gt; DD.var_parameters(P_f64)
Dict{Symbol,Float64} with 4 entries:
  :p2 =&gt; 28.0
  :σ  =&gt; 0.2
  :p1 =&gt; 10.0
  :p3 =&gt; 2.66667</code></pre><p>If we wanted to change our mind and define, say, <code>:p1</code> and <code>:p3</code> as <code>constant</code> parameters we could do that by overwriting the definition of the <code>const_parameter_names(::Type{&lt;:CustomDiffusionLaw})</code> method, as all other functions of this type are computed as a byproduct of <code>parameter_names(::Type{&lt;:CustomDiffusionLaw})</code> and <code>const_parameter_names(::Type{&lt;:CustomDiffusionLaw})</code> and the former one should never change.</p><pre><code class="language-julia">DD.const_parameter_names(::Type{&lt;:Lorenz}) = (:p1, :p3)</code></pre><p>That&#39;s all that needs to be changed.</p></div></div><div class="admonition is-info"><header class="admonition-header">Alternative keywords</header><div class="admonition-body"><p><code>:constant_parameters</code> keyword alternatives: <code>const_parameters</code>, <code>:const_param</code>, <code>:const_params</code>, <code>:constparameters</code>, <code>:constparam</code>, <code>:constparams</code>, <code>:constant_param</code>, <code>:constant_params</code>, <code>:constantparameters</code>, <code>:constantparam</code>, and <code>:constantparams</code>.</p></div></div><h4 id="Category-4:-:auxiliary_info-1"><a class="docs-heading-anchor" href="#Category-4:-:auxiliary_info-1">Category 4: <code>:auxiliary_info</code></a><a class="docs-heading-anchor-permalink" href="#Category-4:-:auxiliary_info-1" title="Permalink"></a></h4><p>Information about the end-points of the diffusion. This is a useful feature for guided proposals or simulation of diffusion bridges, where the process is conditioned to hit a certain end-point. In particular, it is used quite extensively in the package <a href="https://github.com/JuliaDiffusionBayes/GuidedProposals.jl">GuidedProposals.jl</a>. The following fields can be defined:</p><ul><li><code>t0</code> (also accepts <code>:t_0</code>): the starting time-point</li><li><code>T</code>: the final time-point</li><li><code>v0</code> (also accepts <code>:obs0</code>, <code>:v_0</code>, <code>:obs_0</code>): the starting observation</li><li><code>vT</code> (also accepts <code>:obsT</code>, <code>:v_T</code>, <code>:obs_T</code>): the observation at the terminal time</li></ul><p>Each one of these fields can be defined in a format <code>field-name --&gt; field-type</code> (e.g. <code>T --&gt; Float64</code>).</p><div class="admonition is-info"><header class="admonition-header">Alternative keywords</header><div class="admonition-body"><p><code>auxiliary_info</code> keyword alternatives: <code>:aux_info</code>, <code>:end_points</code>, <code>:end_point_info</code></p></div></div><h4 id="Category-5:-:additional-1"><a class="docs-heading-anchor" href="#Category-5:-:additional-1">Category 5: <code>:additional</code></a><a class="docs-heading-anchor-permalink" href="#Category-5:-:additional-1" title="Permalink"></a></h4><p>The additional information provides some additional decorators that helps the compiler use specialized functions when called on instances of corresponding diffusion processes. The following information can be specified</p><ul><li><code>constdiff --&gt; true</code> (or <code>false</code>) depending on whether the volatility coefficient is independent from the state variable (<code>false</code> by default).<ul><li>Alternative keywords: <code>:constvola</code>, <code>:constdiffusivity</code>, <code>:constvolatility</code>, <code>:constσ</code>, <code>:constantdiff</code>, <code>:constantvola</code>, <code>:constantdiffusivity</code>, <code>:constantvolatility</code>, <code>:constantσ</code>.</li></ul></li><li><code>diagonaldiff --&gt; true</code> (or <code>false</code>) to indicate that the volatility coefficient is represented by a diagonal matrix (<code>false</code> by default).<ul><li>Alternative keywords: <code>:diagonalvola</code>, <code>:diagonaldiffusivity</code>, <code>:diagonalvolatility</code>, <code>:diagonalσ</code>, <code>:diagdiff</code>, <code>:diagvola</code>, <code>:diagdiffusivity</code>, <code>:diagvolatility</code>, <code>:diagσ</code>.</li></ul></li><li><code>sparsediff --&gt; true</code> (or <code>false</code>) to indicate that the volatility coefficient is a represented by a sparse matrix (<code>false</code> by default).<ul><li>Alternative keywords: <code>:sparsevola</code>, <code>:sparsediffusivity</code>, <code>:sparsevolatility</code>, <code>:sparseσ</code>.</li></ul></li><li><code>linear --&gt; true</code> (or <code>false</code>) to indicate that a diffusion has a linear structure (<code>false</code> by default).</li><li><code>diagonalbmat --&gt; true</code> (or <code>false</code>) to indicate that a <code>B</code> matrix of a linear diffusion (with a drift <code>b(x):=Bx+β</code>) is diagonal (<code>false</code> by default).<ul><li>Alternative keywords: <code>:diagonalb</code>, <code>:diagonalbmatrix</code>.</li></ul></li><li><code>sparsebmat --&gt; true</code> (or <code>false</code>) to indicate that a <code>B</code> matrix of a linear diffusion (with a drift <code>b(x):=Bx+β</code>) is sparse (<code>false</code> by default).<ul><li>Alternative keywords: <code>:sparseb</code>, <code>:sparsebmatrix</code>.</li></ul></li><li><code>statespace --&gt; type-of-state-space-restrictions</code> (eg. <code>statespace --&gt; UnboundedStateSpace()</code>) indicates any restrictions made on the state-space of a diffusion process.</li><li><code>eltype --&gt; type-of-parameter</code> (eg. <code>eltype --&gt; Float64</code>) disambiguate the parameter type in case multiple types are used. This is useful for automatic differentiation where the derivatives of only a subset of parameters are taken and it is the eltype of those parameters that is of interest. [<strong>TODO</strong> come back, not sure anymore if it has any use]</li></ul><div class="admonition is-info"><header class="admonition-header">Alternative keywords</header><div class="admonition-body"><p><code>:additional</code> keyword alternatives: <code>:extra</code></p></div></div><h2 id="Additional-functions-1"><a class="docs-heading-anchor" href="#Additional-functions-1">Additional functions</a><a class="docs-heading-anchor-permalink" href="#Additional-functions-1" title="Permalink"></a></h2><hr/><p>For each struct defining a diffusion law we may define some additional functions that are not automatically generated by the <code>@diffusion_process</code> macro. These additional functions can provide us with some extra functionality implemented in other packages of the <a href="https://github.com/JuliaDiffusionBayes">JuliaDiffusionBayes</a> suite.</p><p>There are two groups of extra functions</p><ol><li><p>Functions that are needed for the <em>conjugate updates</em> from the package <a href="https://github.com/JuliaDiffusionBayes/DiffusionMCMC.jl">DiffusionMCMC.jl</a>. They are discussed in detail <a href="../conjugate_updates/#conjugate_updates-1">here</a>.</p></li><li><p>Functions needed for <em>blocking</em>, that can be implemented for instance with the package <a href="https://github.com/JuliaDiffusionBayes/GuidedProposals.jl">GuidedProposals.jl</a> or <a href="https://github.com/JuliaDiffusionBayes/DiffusionMCMC.jl">DiffusionMCMC.jl</a>. These need to be overwritten <strong>only if your diffusion is hypoelliptic</strong>, otherwise the defaults will work just fine. The first one is a function <code>nonhypo</code>, with the documentation that can be found <a href="../conjugate_updates/#conjugate_gaussian_updates-1">here</a>. It can be overwritten directly, or can be defined automatically when defining conjugate updates. The second function is</p></li></ol><article class="docstring"><header><a class="docstring-binding" id="DiffusionDefinition.nonhypo_σ" href="#DiffusionDefinition.nonhypo_σ"><code>DiffusionDefinition.nonhypo_σ</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">nonhypo_σ((t,i)::IndexedTime, x, P::DiffusionProcess)</code></pre><p>Return a sub-matrix of the full volatility matrix <code>σ</code> that consists of non-zero rows of <code>σ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/DiffusionDefinition.jl/blob/e909355a29a3debd03642c2a56c4e416cf936a14/src/standard_functions.jl#LL162-L167">source</a></section><section><div><pre><code class="language-julia">nonhypo_σ(t::Float64, x, P)</code></pre><p>Return a sub-matrix of the full volatility matrix <code>σ</code> that consists of non-zero rows of <code>σ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/DiffusionDefinition.jl/blob/e909355a29a3debd03642c2a56c4e416cf936a14/src/conjugate_updates.jl#LL55-L60">source</a></section></article><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>The functions from the latter group are not discussed any further in this documentation. Please see the <a href="https://juliadiffusionbayes.github.io/GuidedProposals.jl/dev/tutorials/blocking/">tutorial on blocking from GuidedProposals.jl</a> to learn more.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../get_started/package_overview/">« Get started</a><a class="docs-footer-nextpage" href="../drift_and_volatility/">Drift and volatility »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 12 June 2020 15:36">Friday 12 June 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
